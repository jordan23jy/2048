function Cells(e,r,l){this.index=e,this.value=0,this.x=Math.floor(e/r),this.noGrids=r,this.y=e%r,this.elem=l}var NO_GRIDS=4,Grid=function(e){this.noGrids=NO_GRIDS,this.cellArray=[]};Grid.prototype.init=function(){var e=this,r;this.render(),setTimeout(function(){e.randomValue(),e.randomValue()},0)},Grid.prototype.render=function(){for(var e=this,r=document.getElementById("grids"),l=0;l<e.noGrids;l++){var o=document.createElement("div");o.className="grid-row",r.appendChild(o);for(var t=0;t<e.noGrids;t++){var s=document.createElement("div");s.className="grid-cell",o.appendChild(s),e.cellArray.push(new Cells(l,e.noGrids,s))}}},Grid.prototype.randomValue=function(){var e=this,r=Math.random()<.5?2:4,l=Math.floor(Math.random()*this.noGrids*this.noGrids);0===e.cellArray[l].value?(console.log("passed: "+l),e.cellArray[l].setCellValue(r)):(console.log("recursion"),e.randomValue())},Grid.prototype.closeGapCells=function(e){for(var r=0;r<e.length;r++){var l=r+1;if(0===e[r]){for(;0===e[l]&&l<e.length;)l++;if(l===e.length)break;e[r]=e[l],e[l]=0}}},Grid.prototype.mergeCells=function(e){for(var r=0;r<e.length-1;r++){var l=r+1;e[r]===e[r+1]&&(e[r]*=2,e[l]=0)}},Grid.prototype.moveCells=function(e){this.closeGapCells(e),this.mergeCells(e),this.closeGapCells(e)};var grids=new Grid(NO_GRIDS);grids.init(),Cells.prototype.removeCells=function(e){},Cells.prototype.setCellValue=function(e){switch(this.value=e,e){case 0:return this.elem.innerHTML="",void(this.elem.style.backgroundColor="#eee4da");case 2:this.elem.style.backgroundColor="#faf8ef";break;case 4:this.elem.style.backgroundColor="#EDE0C8";break;case 8:this.elem.style.backgroundColor="#f78e48";break;case 16:this.elem.style.backgroundColor="#fc5e2e";break;case 32:this.elem.style.backgroundColor="#ff3333";break;case 64:this.elem.style.backgroundColor="#ff0000";break;case 128:this.elem.style.backgroundColor="#EDCF72";break;case 256:this.elem.style.backgroundColor="#EDCC61";break;case 512:this.elem.style.backgroundColor="#EDC850";break;case 1024:this.elem.style.backgroundColor="#EDC53F";break;case 2048:this.elem.style.backgroundColor="#EDC22E";break;default:this.elem.innerHTML="",this.elem.style.backgroundColor="#eee4da"}this.elem.innerHTML=e},Cells.prototype.console=function(){console.log("HELLO")};
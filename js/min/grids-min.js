function Cells(e,r,o){this.index=e,this.value=0,this.x=Math.floor(e/r),this.noGrids=r,this.y=e%r,this.elem=o}var NO_GRIDS=4,Grid=function(e){this.noGrids=NO_GRIDS,this.cellArray=[]};Grid.prototype.init=function(){var e=this,r;this.render(),e.randomValue(),e.randomValue()},Grid.prototype.render=function(){for(var e=this,r=document.getElementById("grids"),o=0;o<e.noGrids;o++){var l=document.createElement("div");l.className="grid-row",r.appendChild(l);for(var t=0;t<e.noGrids;t++){var i=document.createElement("div");i.className="grid-cell",l.appendChild(i),e.cellArray.push(new Cells(o,e.noGrids,i))}}return e.cellArray},Grid.prototype.randomValue=function(){var e=this,r=Math.random()<.5?2:4,o=Math.floor(Math.random()*this.noGrids*this.noGrids);0===e.cellArray[o].value?(console.log("passed: "+o),e.setCellValue(o,r)):(console.log("recursion"),e.randomValue())},Grid.prototype.setCellValue=function(e,r){var o=this.cellArray[e];o.elem.innerHTML=r,o.value=r},Grid.prototype.closeGapCells=function(e){for(var r=0;r<e.length;r++){var o=r+1;if(0===e[r]){for(;0===e[o]&&o<e.length;)o++;if(o===e.length)break;e[r]=e[o],e[o]=0}}},Grid.prototype.mergeCells=function(e){for(var r=0;r<e.length-1;r++){var o=r+1;e[r]===e[r+1]&&(e[r]*=2,e[o]=0)}},Grid.prototype.moveCells=function(e){this.closeGapCells(e),this.mergeCells(e),this.closeGapCells(e)};var grids=new Grid(NO_GRIDS);grids.init(),Cells.prototype.removeCells=function(e){},Cells.prototype.move=function(e){for(var r=0;r<this.noGrids&&void 0!==e[r+1];r++)e[r]===cel[r+1]&&(e[r]*=2,e[r+1]=0)};
var EventHandler=function(e){this.grids=e};EventHandler.prototype.init=function(){this.keyboardInput(),this.mouseEvents()},EventHandler.prototype.keyboardInput=function(){var e=this;window.onkeydown=function(r){if(e.grids.gameRunning){switch(r.keyCode){case 37:r.preventDefault(),e.moveLeft();break;case 38:r.preventDefault(),e.moveUp();break;case 39:r.preventDefault(),e.moveRight();break;case 40:r.preventDefault(),e.moveDown();break;default:return}this.grids.cellHasMoved()&&e.grids.randomValue(),e.grids.checkGameOver()&&(e.grids.gameRunning=!1,alert("game over")),e.grids.checkGameWon()&&(e.grids.gameRunning=!1,alert("You Won!"))}}},EventHandler.prototype.mouseEvents=function(){var e=this,r=document.getElementById("new-game");r.onclick=function(r){e.grids.resetGame()}},EventHandler.prototype.moveUp=function(){for(var e=this,r=this.grids.noGrids,t=0;r>t;t++){for(var o=[],n=0;r>n;n++)o[n]=e.grids.cellArray[t+4*n].value;for(e.grids.moveCells(o),n=0;r>n;n++)e.grids.cellArray[t+4*n].setCellValue(o[n]?o[n]:0)}},EventHandler.prototype.moveDown=function(){console.log("down key");for(var e=this,r=e.grids.noGrids,t=0;r>t;t++){for(var o=[],n=0;r>n;n++)o[n]=e.grids.cellArray[t+(12-4*n)].value;for(e.grids.moveCells(o),n=0;r>n;n++)e.grids.cellArray[t+(12-4*n)].setCellValue(o[n]?o[n]:0)}},EventHandler.prototype.moveLeft=function(){for(var e=this,r=this.grids.noGrids,t=0;r>t;t++){for(var o=[],n=0;r>n;n++)o[n]=e.grids.cellArray[n+4*t].value;for(e.grids.moveCells(o),n=0;r>n;n++)e.grids.cellArray[n+4*t].setCellValue(o[n]?o[n]:0)}},EventHandler.prototype.moveRight=function(){for(var e=this,r=this.grids.noGrids,t=0;r>t;t++){for(var o=[],n=0;r>n;n++)o[n]=e.grids.cellArray[3-n+4*t].value;for(e.grids.moveCells(o),n=0;r>n;n++)e.grids.cellArray[3-n+4*t].setCellValue(o[n]?o[n]:0)}};